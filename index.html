<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gelişmiş Betonarme Duvar Hesaplama</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.min.js"></script>
    <style>
        /* Önceki CSS kodları aynen korunmuştur */
        :root {
            --primary-color: #3498db;
            --secondary-color: #2980b9;
            --background-color: #f5f5f5;
            --card-color: #ffffff;
            --text-color: #333333;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--background-color);
            color: var(--text-color);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        h1 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 30px;
        }
        
        .card {
            background-color: var(--card-color);
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-bottom: 20px;
        }
        
        /* Diğer CSS tanımları aynen korunmuştur... */
    </style>
</head>
<body>
    <div class="container">
        <!-- Önceki HTML kodu aynen korunmuştur, sadece temel bilgileri ekledim -->
        <div class="card">
            <h2>Giriş Bilgileri</h2>
            <!-- Diğer input alanları... -->
            <div class="input-group">
                <label for="foundation-width">Temel Genişliği (m):</label>
                <input type="number" id="foundation-width" step="0.01" min="0.5" value="1.05">
            </div>
            <div class="input-group">
                <label for="foundation-height">Temel Yüksekliği (m):</label>
                <input type="number" id="foundation-height" step="0.01" min="0.1" value="0.25">
            </div>
            <!-- Diğer HTML kodu... -->
        </div>
    </div>

    <script>
        // Önceki fonksiyonlar aynen korunmuştur, sadece gerekli güncellemeler yapıldı
        
        function calculate() {
            // Önceki değişkenler...
            const foundationWidth = parseFloat(document.getElementById('foundation-width').value);
            const foundationHeight = parseFloat(document.getElementById('foundation-height').value);
            
            // Hesaplamalara temel eklenmesi
            const totalConcreteVolume = concreteVolume + (foundationWidth * foundationHeight * length);
            const totalFormworkArea = formworkArea + (2 * foundationHeight * length);
            
            // Sonuçları göster
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = `
                <!-- Önceki sonuçlar... -->
                <div class="result-item">
                    <span>Temel Beton Hacmi:</span>
                    <span class="result-value">${(foundationWidth * foundationHeight * length).toFixed(2)} m³</span>
                </div>
                <div class="result-item">
                    <span>Toplam Beton Hacmi:</span>
                    <span class="result-value">${totalConcreteVolume.toFixed(2)} m³</span>
                </div>
                <div class="result-item">
                    <span>Temel Kalıp Alanı:</span>
                    <span class="result-value">${(2 * foundationHeight * length).toFixed(2)} m²</span>
                </div>
                <div class="result-item">
                    <span>Toplam Kalıp Alanı:</span>
                    <span class="result-value">${totalFormworkArea.toFixed(2)} m²</span>
                </div>
            `;
            
            // Çizim fonksiyonlarını güncelle
            drawFrontView(length, height, thickness, horizontalBars, verticalBars, 
                        opening1Width, opening1Height, opening2Width, opening2Height,
                        foundationWidth, foundationHeight);
            // Diğer çizim fonksiyonları...
        }
        
        function drawFrontView(length, height, thickness, horizontalBars, verticalBars, 
                             opening1Width, opening1Height, opening2Width, opening2Height,
                             foundationWidth, foundationHeight) {
            // Canvas ayarları...
            
            // Temel çizimi
            const foundationOffsetX = offsetX + (length - foundationWidth) * scale / 2;
            const foundationOffsetY = offsetY + height * scale;
            
            ctx.fillStyle = 'rgba(150, 75, 0, 0.7)';
            ctx.fillRect(foundationOffsetX, foundationOffsetY, 
                        foundationWidth * scale, foundationHeight * scale);
            ctx.strokeStyle = '#333';
            ctx.strokeRect(foundationOffsetX, foundationOffsetY, 
                          foundationWidth * scale, foundationHeight * scale);
            
            // Duvar çizimi (temelin ortasında)
            const wallOffsetX = offsetX + (foundationWidth - length) * scale / 2;
            ctx.fillStyle = 'rgba(170, 170, 170, 0.5)';
            ctx.fillRect(wallOffsetX, offsetY, length * scale, height * scale);
            ctx.strokeStyle = '#333';
            ctx.strokeRect(wallOffsetX, offsetY, length * scale, height * scale);
            
            // Diğer çizim işlemleri...
        }
        
        function init3DView(length, height, thickness, opening1Width, opening1Height, 
                          opening2Width, opening2Height, foundationWidth, foundationHeight) {
            // Sahne oluşturma...
            
            // Temel oluştur
            const foundationGeometry = new THREE.BoxGeometry(foundationWidth, foundationHeight, thickness * 1.2);
            const foundationMaterial = new THREE.MeshPhongMaterial({
                color: 0x8B4513, // Kahverengi temel rengi
                side: THREE.DoubleSide
            });
            const foundationMesh = new THREE.Mesh(foundationGeometry, foundationMaterial);
            foundationMesh.position.y = -height/2 - foundationHeight/2;
            scene.add(foundationMesh);
            
            // Duvarı temelin ortasına yerleştir
            const wallMesh = new THREE.Mesh(wallGeometry, wallMaterial);
            wallMesh.position.y = -height/2 + foundationHeight;
            scene.add(wallMesh);
            
            // Diğer 3D çizim işlemleri...
        }
        
        // Diğer fonksiyonlar aynen korunmuştur...
    </script>
</body>
</html>