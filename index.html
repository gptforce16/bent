<!DOCTYPE html><html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>İstinat Duvarı Donatı Hesabı</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; }
    .container { padding: 1rem; }
    .inputs { display: flex; flex-wrap: wrap; gap: 1rem; margin-bottom: 1rem; }
    .inputs label { display: flex; flex-direction: column; font-size: 0.9rem; }
    svg { width: 100%; max-width: 600px; height: auto; border: 1px solid #ccc; background: #f9f9f9; }
    .results { margin-top: 1rem; font-size: 0.95rem; }
  </style>
</head>
<body>
  <div class="container">
    <h2>İstinat Duvarı Donatı Hesaplama</h2>
    <div class="inputs">
      <label>A (yükseklik cm): <input type="number" id="A" value="300"></label>
      <label>B (taban cm): <input type="number" id="B" value="100"></label>
      <label>C (üst cm): <input type="number" id="C" value="30"></label>
      <label>D (arka topuk cm): <input type="number" id="D" value="50"></label>
      <label>E (ön topuk cm): <input type="number" id="E" value="20"></label>
    </div>
    <button onclick="guncelle()">Güncelle</button>
    <svg id="cizim" viewBox="0 0 600 400"></svg>
    <div class="results" id="sonuc"></div>
  </div>  <script>
    function guncelle() {
      const A = +document.getElementById("A").value;
      const B = +document.getElementById("B").value;
      const C = +document.getElementById("C").value;
      const D = +document.getElementById("D").value;
      const E = +document.getElementById("E").value;

      const pas = 2.5; // cm
      const spacing = 10; // cm
      const gonyeboyu = 20; // cm
      const demirCap = 1.2; // cm çap
      const birimAgirlik = 0.888; // kg/m

      const svg = document.getElementById("cizim");
      svg.innerHTML = "";

      // Duvar çizimi (ölçekli değil, sadece şematik)
      const scale = 1.5;
      const offsetX = 100;
      const offsetY = 300;

      const duvarPath = `M ${offsetX},${offsetY} 
        v ${-A * scale} 
        l ${C * scale},0 
        v ${(A - B) * scale} 
        h ${E * scale} 
        v ${B * scale} 
        h ${-(D + C + E) * scale} 
        Z`;

      const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
      path.setAttribute("d", duvarPath);
      path.setAttribute("fill", "#ddd");
      path.setAttribute("stroke", "#333");
      svg.appendChild(path);

      // Donatı çizimi (sadece düşey)
      const icYukseklik = A - 2 * pas;
      const adet = Math.floor(icYukseklik / spacing);
      let toplamBoy = 0;

      for (let i = 0; i < adet; i++) {
        const y = offsetY - pas * scale - i * spacing * scale;
        const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
        line.setAttribute("x1", offsetX + pas * scale);
        line.setAttribute("y1", y);
        line.setAttribute("x2", offsetX + pas * scale);
        line.setAttribute("y2", y - C * scale);
        line.setAttribute("stroke", "red");
        line.setAttribute("stroke-width", "1.5");
        svg.appendChild(line);

        toplamBoy += (C + 2 * gonyeboyu) / 100; // metre cinsinden
      }

      const toplamKg = (toplamBoy * birimAgirlik).toFixed(2);

      document.getElementById("sonuc").innerHTML =
        `Donatı adedi: ${adet} <br>
         Toplam boy: ${toplamBoy.toFixed(2)} m <br>
         Ağırlık: ${toplamKg} kg`;
    }

    guncelle();
  </script></body>
</html>